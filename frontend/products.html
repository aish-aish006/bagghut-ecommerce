<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shop - Bagghut</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f9f9f9;
    }

    /* Header Styles */
    .offer-bar {
      background: linear-gradient(135deg, #FFB07C 0%, #ff8c5a 100%);
      color: white;
      text-align: center;
      padding: 12px;
      font-weight: 600;
    }

    header {
      background: linear-gradient(135deg, #FFDAB9 0%, #ffcba4 100%);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 15px 40px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .logo {
      font-size: 36px;
      font-weight: bold;
      color: #d32f2f;
      font-family: 'Trebuchet MS', sans-serif;
      letter-spacing: 3px;
      cursor: pointer;
    }

    nav ul {
      list-style: none;
      display: flex;
      gap: 35px;
      align-items: center;
    }

    nav ul li a {
      text-decoration: none;
      color: #333;
      font-weight: 600;
      font-size: 15px;
      transition: all 0.3s;
      padding: 8px 12px;
      border-radius: 5px;
    }

    nav ul li a:hover {
      color: #d32f2f;
      background: rgba(255, 255, 255, 0.5);
    }

    .cart-icon {
      position: relative;
      font-size: 24px;
      cursor: pointer;
    }

    .cart-count {
      position: absolute;
      top: -8px;
      right: -8px;
      background: #d32f2f;
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: bold;
    }

    .profile-pic {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      border: 3px solid #d32f2f;
    }

    /* Main Container */
    .container {
      display: flex;
      max-width: 1400px;
      margin: 40px auto;
      gap: 30px;
      padding: 0 40px;
    }

    /* Sidebar Filters */
    .sidebar {
      width: 280px;
      background: white;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      height: fit-content;
      position: sticky;
      top: 100px;
    }

    .sidebar h3 {
      margin-bottom: 20px;
      color: #333;
      font-size: 20px;
      border-bottom: 2px solid #FFB07C;
      padding-bottom: 10px;
    }

    .filter-group {
      margin-bottom: 25px;
    }

    .filter-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #555;
      font-size: 14px;
    }

    .filter-group select,
    .filter-group input {
      width: 100%;
      padding: 10px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 14px;
      transition: border 0.3s;
    }

    .filter-group select:focus,
    .filter-group input:focus {
      outline: none;
      border-color: #FFB07C;
    }

    .filter-btn {
      width: 100%;
      padding: 12px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .filter-btn:hover {
      transform: translateY(-2px);
    }

    .clear-filters {
      width: 100%;
      padding: 10px;
      background: white;
      color: #333;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      margin-top: 10px;
    }

    /* Products Section */
    .products-area {
      flex: 1;
    }

    .products-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      background: white;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .products-header h1 {
      color: #333;
      font-size: 32px;
    }

    .products-count {
      color: #666;
      font-size: 16px;
    }

    .sort-options {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .sort-options select {
      padding: 10px 15px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
    }

    /* Products Grid */
    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 30px;
    }

    .product-card {
      background: white;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      transition: all 0.3s;
      cursor: pointer;
      position: relative;
    }

    .product-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }

    .product-badge {
      position: absolute;
      top: 15px;
      right: 15px;
      background: #d32f2f;
      color: white;
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: bold;
      z-index: 10;
    }

    .stock-badge {
      position: absolute;
      top: 15px;
      left: 15px;
      background: #4CAF50;
      color: white;
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: bold;
      z-index: 10;
    }

    .out-of-stock {
      background: #f44336;
    }

    .product-card img {
      width: 100%;
      height: 250px;
      object-fit: cover;
      transition: transform 0.3s;
    }

    .product-card:hover img {
      transform: scale(1.05);
    }

    .product-info {
      padding: 20px;
    }

    .product-category {
      color: #999;
      font-size: 12px;
      text-transform: uppercase;
      margin-bottom: 8px;
      font-weight: 600;
    }

    .product-card h3 {
      font-size: 18px;
      margin-bottom: 10px;
      color: #333;
    }

    .product-card p {
      color: #666;
      font-size: 14px;
      margin-bottom: 15px;
      line-height: 1.5;
    }

    .price-section {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 15px;
    }

    .price {
      font-size: 24px;
      font-weight: bold;
      color: #d32f2f;
    }

    .old-price {
      text-decoration: line-through;
      color: #999;
      font-size: 16px;
    }

    .discount-badge {
      background: #4CAF50;
      color: white;
      padding: 3px 8px;
      border-radius: 5px;
      font-size: 12px;
      font-weight: bold;
    }

    .product-rating {
      display: flex;
      align-items: center;
      gap: 5px;
      margin-bottom: 15px;
      font-size: 14px;
    }

    .stars {
      color: gold;
    }

    .rating-count {
      color: #999;
    }

    .product-actions {
      display: flex;
      gap: 10px;
    }

    .btn {
      flex: 1;
      padding: 12px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 14px;
    }

    .btn-primary {
      background: #d32f2f;
      color: white;
    }

    .btn-primary:hover {
      background: #b71c1c;
      transform: scale(1.05);
    }

    .btn-secondary {
      background: #f0f0f0;
      color: #333;
    }

    .btn-secondary:hover {
      background: #e0e0e0;
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* No Results */
    .no-results {
      text-align: center;
      padding: 60px 20px;
      background: white;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .no-results h2 {
      font-size: 32px;
      color: #333;
      margin-bottom: 15px;
    }

    .no-results p {
      color: #666;
      font-size: 16px;
    }

    /* Footer */
    footer {
      background: #333;
      color: white;
      padding: 40px;
      margin-top: 60px;
      text-align: center;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }

      .sidebar {
        width: 100%;
        position: relative;
      }

      .products-header {
        flex-direction: column;
        gap: 15px;
        text-align: center;
      }

      .products-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      }
    }
  </style>
</head>
<body>
  <!-- Offer Bar -->
  <div class="offer-bar">
    üéâ MEGA SALE! Get up to 60% OFF + Free Shipping on orders above ‚Çπ999 üéâ
  </div>

  <!-- Header -->
  <header>
    <div class="logo" onclick="window.location.href='index.html'">Bagghut</div>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="products.html">Shop</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li>
          <div class="cart-icon" onclick="window.location.href='cart.html'">
            üõí
            <span class="cart-count" id="cartCount">0</span>
          </div>
        </li>
        <li>
          <img src="https://i.pravatar.cc/100" alt="Profile" class="profile-pic" 
               onclick="window.location.href='profile.html'">
        </li>
      </ul>
    </nav>
  </header>

  <!-- Main Container -->
  <div class="container">
    <!-- Sidebar Filters -->
    <aside class="sidebar">
      <h3>üîç Filters</h3>
      
      <div class="filter-group">
        <label>Search Products</label>
        <input type="text" id="searchInput" placeholder="Search bags..." 
               oninput="applyFilters()">
      </div>

      <div class="filter-group">
        <label>Category</label>
        <select id="categoryFilter" onchange="applyFilters()">
          <option value="all">All Categories</option>
          <option value="backpack">Backpacks</option>
          <option value="handbag">Handbags</option>
          <option value="laptop">Laptop Bags</option>
          <option value="travel">Travel Bags</option>
          <option value="tote">Tote Bags</option>
          <option value="messenger">Messenger Bags</option>
        </select>
      </div>

      <div class="filter-group">
        <label>Price Range</label>
        <select id="priceFilter" onchange="applyFilters()">
          <option value="all">All Prices</option>
          <option value="0-1000">Under ‚Çπ1,000</option>
          <option value="1000-2000">‚Çπ1,000 - ‚Çπ2,000</option>
          <option value="2000-3000">‚Çπ2,000 - ‚Çπ3,000</option>
          <option value="3000-5000">‚Çπ3,000 - ‚Çπ5,000</option>
          <option value="5000-10000">Above ‚Çπ5,000</option>
        </select>
      </div>

      <div class="filter-group">
        <label>Color</label>
        <select id="colorFilter" onchange="applyFilters()">
          <option value="all">All Colors</option>
          <option value="black">Black</option>
          <option value="brown">Brown</option>
          <option value="blue">Blue</option>
          <option value="red">Red</option>
          <option value="green">Green</option>
        </select>
      </div>

      <div class="filter-group">
        <label>Material</label>
        <select id="materialFilter" onchange="applyFilters()">
          <option value="all">All Materials</option>
          <option value="leather">Leather</option>
          <option value="canvas">Canvas</option>
          <option value="nylon">Nylon</option>
          <option value="polyester">Polyester</option>
        </select>
      </div>

      <button class="filter-btn" onclick="applyFilters()">Apply Filters</button>
      <button class="clear-filters" onclick="clearFilters()">Clear All</button>
    </aside>

    <!-- Products Area -->
    <main class="products-area">
      <div class="products-header">
        <div>
          <h1>All Products</h1>
          <p class="products-count" id="productsCount">Showing 0 products</p>
        </div>
        <div class="sort-options">
          <label>Sort by:</label>
          <select id="sortFilter" onchange="applyFilters()">
            <option value="default">Default</option>
            <option value="price-low">Price: Low to High</option>
            <option value="price-high">Price: High to Low</option>
            <option value="name">Name: A-Z</option>
            <option value="newest">Newest First</option>
          </select>
        </div>
      </div>

      <div class="products-grid" id="productsGrid">
        <!-- Products will be loaded here -->
      </div>

      <div class="no-results" id="noResults" style="display: none;">
        <h2>üòï No Products Found</h2>
        <p>Try adjusting your filters or search terms</p>
      </div>
    </main>
  </div>

  <!-- Footer -->
  <footer>
    <p>&copy; 2024 Bagghut. All Rights Reserved.</p>
  </footer>

  <script>
    // Extended Product Database
    const allProducts = [
      {
        id: 1, name: "Classic Leather Backpack", category: "backpack",
        price: 2499, oldPrice: 3999, image: "https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400",
        badge: "50% OFF", stock: 15, color: "brown", material: "leather",
        rating: 4.5, reviews: 128
      },
      {
        id: 2, name: "Designer Handbag", category: "handbag",
        price: 3999, oldPrice: 5999, image: "https://images.unsplash.com/photo-1590874103328-eac38a683ce7?w=400",
        badge: "NEW", stock: 8, color: "black", material: "leather",
        rating: 4.8, reviews: 95
      },
      {
        id: 3, name: "Professional Laptop Bag", category: "laptop",
        price: 1899, oldPrice: 2999, image: "https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400",
        badge: "SALE", stock: 20, color: "black", material: "nylon",
        rating: 4.6, reviews: 210
      },
      {
        id: 4, name: "Travel Duffel Bag", category: "travel",
        price: 2999, oldPrice: 4499, image: "https://images.unsplash.com/photo-1590874103328-eac38a683ce7?w=400",
        badge: "HOT", stock: 12, color: "blue", material: "polyester",
        rating: 4.7, reviews: 156
      },
      {
        id: 5, name: "Canvas Tote Bag", category: "tote",
        price: 899, oldPrice: 1499, image: "https://images.unsplash.com/photo-1590874103328-eac38a683ce7?w=400",
        badge: "SALE", stock: 25, color: "green", material: "canvas",
        rating: 4.3, reviews: 89
      },
      {
        id: 6, name: "Urban Backpack", category: "backpack",
        price: 1999, oldPrice: 2999, image: "https://images.unsplash.com/photo-1590874103328-eac38a683ce7?w=400",
        badge: "NEW", stock: 18, color: "black", material: "nylon",
        rating: 4.4, reviews: 112
      },
      {
        id: 7, name: "Executive Leather Briefcase", category: "laptop",
        price: 4999, oldPrice: 7999, image: "https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400",
        badge: "PREMIUM", stock: 5, color: "brown", material: "leather",
        rating: 4.9, reviews: 67
      },
      {
        id: 8, name: "Casual Messenger Bag", category: "messenger",
        price: 1499, oldPrice: 2199, image: "https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400",
        badge: "SALE", stock: 30, color: "blue", material: "canvas",
        rating: 4.2, reviews: 143
      },
      {
        id: 9, name: "Luxury Handbag", category: "handbag",
        price: 5999, oldPrice: 8999, image: "https://images.unsplash.com/photo-1590874103328-eac38a683ce7?w=400",
        badge: "LUXURY", stock: 3, color: "red", material: "leather",
        rating: 5.0, reviews: 45
      },
      {
        id: 10, name: "Sports Backpack", category: "backpack",
        price: 1799, oldPrice: 2499, image: "https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400",
        badge: "NEW", stock: 22, color: "red", material: "polyester",
        rating: 4.5, reviews: 98
      },
      {
        id: 11, name: "Large Travel Bag", category: "travel",
        price: 3499, oldPrice: 4999, image: "https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400",
        badge: "SALE", stock: 10, color: "black", material: "polyester",
        rating: 4.6, reviews: 134
      },
      {
        id: 12, name: "Mini Crossbody Bag", category: "handbag",
        price: 1299, oldPrice: 1999, image: "https://images.unsplash.com/photo-1590874103328-eac38a683ce7?w=400",
        badge: "SALE", stock: 0, color: "brown", material: "leather",
        rating: 4.4, reviews: 76
      }
    ];

    let filteredProducts = [...allProducts];
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    function updateCartCount() {
      document.getElementById('cartCount').textContent = cart.length;
    }

    function displayProducts(products) {
      const grid = document.getElementById('productsGrid');
      const noResults = document.getElementById('noResults');
      const count = document.getElementById('productsCount');

      if (products.length === 0) {
        grid.style.display = 'none';
        noResults.style.display = 'block';
        count.textContent = 'No products found';
        return;
      }

      grid.style.display = 'grid';
      noResults.style.display = 'none';
      count.textContent = `Showing ${products.length} product${products.length > 1 ? 's' : ''}`;

      grid.innerHTML = products.map(product => {
        const discount = Math.round(((product.oldPrice - product.price) / product.oldPrice) * 100);
        const isOutOfStock = product.stock === 0;
        
        return `
          <div class="product-card" onclick="${!isOutOfStock ? `viewProduct(${product.id})` : ''}">
            <div class="product-badge">${product.badge}</div>
            <div class="stock-badge ${isOutOfStock ? 'out-of-stock' : ''}">
              ${isOutOfStock ? 'Out of Stock' : `${product.stock} in stock`}
            </div>
            <img src="${product.image}" alt="${product.name}">
            <div class="product-info">
              <div class="product-category">${product.category}</div>
              <h3>${product.name}</h3>
              <p>${product.material.toUpperCase()} ‚Ä¢ ${product.color.toUpperCase()}</p>
              
              <div class="product-rating">
                <span class="stars">${'‚≠ê'.repeat(Math.floor(product.rating))}</span>
                <span>${product.rating}</span>
                <span class="rating-count">(${product.reviews})</span>
              </div>

              <div class="price-section">
                <div class="price">‚Çπ${product.price}</div>
                <div class="old-price">‚Çπ${product.oldPrice}</div>
                <div class="discount-badge">${discount}% OFF</div>
              </div>

              <div class="product-actions">
                <button class="btn btn-primary" 
                        onclick="event.stopPropagation(); addToCart(${product.id})"
                        ${isOutOfStock ? 'disabled' : ''}>
                  ${isOutOfStock ? 'Out of Stock' : 'Add to Cart'}
                </button>
                <button class="btn btn-secondary" 
                        onclick="event.stopPropagation(); addToWishlist(${product.id})">
                  ‚ù§Ô∏è
                </button>
              </div>
            </div>
          </div>
        `;
      }).join('');
    }

    function applyFilters() {
      const search = document.getElementById('searchInput').value.toLowerCase();
      const category = document.getElementById('categoryFilter').value;
      const priceRange = document.getElementById('priceFilter').value;
      const color = document.getElementById('colorFilter').value;
      const material = document.getElementById('materialFilter').value;
      const sort = document.getElementById('sortFilter').value;

      filteredProducts = allProducts.filter(product => {
        const matchSearch = product.name.toLowerCase().includes(search);
        const matchCategory = category === 'all' || product.category === category;
        const matchColor = color === 'all' || product.color === color;
        const matchMaterial = material === 'all' || product.material === material;

        let matchPrice = true;
        if (priceRange !== 'all') {
          const [min, max] = priceRange.split('-').map(Number);
          matchPrice = product.price >= min && (max ? product.price <= max : true);
        }

        return matchSearch && matchCategory && matchPrice && matchColor && matchMaterial;
      });

      // Apply sorting
      if (sort === 'price-low') {
        filteredProducts.sort((a, b) => a.price - b.price);
      } else if (sort === 'price-high') {
        filteredProducts.sort((a, b) => b.price - a.price);
      } else if (sort === 'name') {
        filteredProducts.sort((a, b) => a.name.localeCompare(b.name));
      } else if (sort === 'newest') {
        filteredProducts.reverse();
      }

      displayProducts(filteredProducts);
    }

    function clearFilters() {
      document.getElementById('searchInput').value = '';
      document.getElementById('categoryFilter').value = 'all';
      document.getElementById('priceFilter').value = 'all';
      document.getElementById('colorFilter').value = 'all';
      document.getElementById('materialFilter').value = 'all';
      document.getElementById('sortFilter').value = 'default';
      applyFilters();
    }

    function addToCart(productId) {
      const product = allProducts.find(p => p.id === productId);
      if (product && product.stock > 0) {
        cart.push(product);
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        alert(`${product.name} added to cart!`);
      }
    }

    function addToWishlist(productId) {
      const product = allProducts.find(p => p.id === productId);
      alert(`${product.name} added to wishlist!`);
    }

    function viewProduct(productId) {
      window.location.href = `product-detail.html?id=${productId}`;
    }

    // Check for category filter from URL
    window.onload = function() {
      const urlParams = new URLSearchParams(window.location.search);
      const category = urlParams.get('category');
      
      if (category) {
        document.getElementById('categoryFilter').value = category;
      }
      
      applyFilters();
      updateCartCount();
    };
  </script>
</body>
</html>